@using SIS.Application.Features.Queries.DepartmentQuery.GetAll
@using SIS.Domain.Entities;
@model GetAllDepartmentQueryResponse

@section HeadSection
	{
	<script src="~/assets/plugins/sweetalert/sweetalert2.all.min.js"></script>
}

<form asp-action="index" method="get">

	<div class="student-group-form">
		<div class="row">
			<div class="col-lg-4 col-md-6">
				<div class="form-group">
					<input name="SearchByName" value="@ViewData["SearchByNameValue"]" class="form-control" placeholder="Search by Name ...">
				</div>
			</div>
			<div class="col-lg-3 col-md-6">
				<div class="form-group">
					<input name="SearchByStartedYear" value="@ViewData["SearchByStartedYearValue"]" class="form-control" placeholder="Search by started year ...">
				</div>
			</div>
			<div class="col-lg-3 col-md-6">
				<div class="form-group">
					<input name="SearchByNumberOfStudent" value="@ViewData["SearchByNumberOfStudentValue"]" class="form-control" placeholder="Search by number of student ...">
				</div>
			</div>
			<div class="col-lg-2">
				<div class="search-student-btn">
					<button type="submit" class="btn btn-primary">Search</button>
				</div>
			</div>


		</div>

	</div>
</form>

<div class="row">
	<div class="col-sm-12">
		<div class="card card-table">
			<div class="card-body">

				<div class="page-header">
					<div class="row align-items-center">
						<div class="col">
							<h3 class="page-title">Departments</h3>
						</div>
						<div class="col-auto text-end float-end ms-auto download-grp">
							<a asp-action="download" class="btn btn-outline-primary me-2"><i class="fas fa-download"></i> Download</a>
							<a asp-action="create" class="btn btn-primary"><i class="fas fa-plus"></i></a>
						</div>
					</div>
				</div>

				<table class="table border-0 star-student table-hover table-center mb-0 datatable table-striped">
					<thead class="student-thread">
						<tr>
							<th>
								<div class="form-check check-tables">
									<input class="form-check-input" type="checkbox" value="something">
								</div>
							</th>
							<th>ID</th>
							<th>Name</th>
							<th>HOD</th>
							<th>Started Year</th>
							<th>No of Students</th>
							<th class="text-end">Action</th>
						</tr>
					</thead>
					<tbody>
						@foreach (Department department in Model.Departments)
						{
							<tr>
								<td>
									<div class="form-check check-tables">
										<input class="form-check-input" type="checkbox" value="something">
									</div>
								</td>
								<td>@department.Id</td>
								<td>
									<h2>
										<a>@department.Name</a>
									</h2>
								</td>
								<td>@department.HeadOfDepartment</td>
								<td>@department.StartedDate.Year</td>
								<td>@department.NumberOfStudents</td>
								<td class="text-end">
									<div class="actions">
										<a asp-action="update" asp-route-id="@department.Id" class="btn btn-sm bg-danger-light">
											<i class="feather-edit"></i>
										</a>
										<a asp-action="delete" asp-route-id="@department.Id" id="deletebtn" class="btn btn-sm bg-success-light me-2">
											<i class="feather-delete"></i>
										</a>
									</div>
								</td>
							</tr>

						}
					</tbody>
				</table>
			</div>
		</div>
	</div>
</div>

@section BodySection
	{
	<script src="~/assets/js/sweetalert.deletebtn.js"></script>
}